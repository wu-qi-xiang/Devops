
# Linux文本处理命令

## 常用文本处理命令

### 1. cut命令
- 基本用法：
  - `-d delimiter`: 指明域的分隔符（与 `-f` 连用）
  - `-f fields`: 取域的位置，如 1,1-3
  - `-b`: 按字节分割
  - `-c`: 按字符分割
  
注：`-b`和`-c`取字母时无差别，取汉字时有区别（一个字符=两个字节）

示例：
```bash
# 指明域的分隔符：，取第一个域
cat /etc/passwd | cut -d ':' -f1 | head 5

# 取前10个字符
cat /etc/passwd | cut -c -10
cat /etc/passwd | cut -b 1-10
```

### 2. sort命令
- 主要参数：
  - `-f`: 忽略大小写
  - `-r`: 逆序
  - `-t`: 字段分割符
  - `-k`: 排序字段
  - `-u`: 去重
  - `-n`: 纯数字排序

示例：
```bash
cat /etc/passwd | sort -t ':' -k3 -n
```

### 3. uniq命令
- 主要参数：
  - `-c`: 显示每行重复的次数
  - `-d`: 仅显示重复出现的行
  - `-u`: 仅显示不重复出现的行

注：uniq只对连续重复的行进行处理，所以通常需要先排序再使用uniq

示例：
```bash
# 先排序再计算重复的数量
sort 1.txt | uniq -c
```

### 4. tee命令
类似重定向`>`，但tee会将输出同时写入文件并显示在屏幕上，通常在管道后使用

示例：
```bash
# 写入文件并显示在屏幕上
echo 1334 | tee 1.txt

# 追加模式
echo 1334 | tee -a 1.txt
```

### 5. tr命令
用于字符转换或删除

示例：
```bash
# 小写转大写
cat /etc/passwd | tr '[a-z]' '[A-Z]'

# 数字转字母
tr [0-9] [a-z] < 1.txt

# 删除文件中的所有数字0
tr -d 0 < 1.txt

# 删除多余的换行符
cat 1.txt | tr -s "\n"
```

### 6. split命令
用于切割文档
- 主要参数：
  - `-b`: 根据大小切割
  - `-l`: 根据行数切割

示例：
```bash
split -b 500 passwd
split -l 10 pass
```

### 7. paste命令
用于合并两个文件（要求行数相同）

### 8. join命令
用于合并具有相同字段的文件

示例：
```bash
# 显示两个文件的不匹配域
join -a1 -a2 file1 file2

# 显示file1的第一个域和file2的第二个域
join -o 1.1 2.2 file1 file2
```

## 命令详解

### cut命令详解
- `-d`: 指定字段分隔符，默认是空格
- `-f`: 指定要显示的字段
  - `-f 1,3`: 显示第1和3行
  - `-f 1-3`: 显示第1到第3行

示例：
```bash
cut -d: -f1 /etc/passwd
cut -d : -f1 /etc/passwd  # 分隔符前后的空格可有可无
```

### sort命令详解
- `-n`: 数值排序
- `-r`: 降序
- `-t`: 指定分隔符
- `-u`: 相同内容的行只显示一次
- `-f`: 排序时忽略大小写

示例：
```bash
sort -t: -k3 /etc/passwd  # 以:为分隔符，以第3个字段进行排序
```

### uniq命令详解
- `-d`: 只显示重复的行
- `-c`: 显示每行重复的次数

### wc命令详解
文本统计（word count）
- `-l`: 统计行数
- `-w`: 统计单词数
- `-c`: 统计字节数
- `-L`: 统计最长的一行的字符数

### tr命令详解
转换或删除字符

示例：
```bash
tr 'ab' 'AB' < /etc/passwd
tr 'a-z' 'A-Z' < /etc/passwd
tr -d 'a'  # 删除字符a
```
		
# Shell基础知识

## 变量类型
Shell编程中的变量分为3种：
- 系统变量
- 环境变量
- 用户变量

## 常用系统变量
1. `$#`：当前脚本的参数个数
2. `$*`，`$@`：当前脚本的所有参数值
   - `"$*"`：会将所有的参数从整体上看做一份数据，而不是把每个参数都看做一份数据
   - `"$@"`：仍然将每个参数都看作一份数据，彼此之间是独立的
3. `$$`：表示当前进程的进程号
4. `$0`：脚本本身的文件名
5. `$n`：当前脚本的第n个参数，n=1,2,3,4,5,6...
6. `$?`：命令或者程序执行完的状态，返回0表示执行成功

## 常见环境变量
- PATH
- HOME
- SHELL
- USER
- ID
- PWD
- TERM
- HOSTNAME

## Shell脚本执行方式
### sh和./执行方式
重新开启一个子shell，在子shell执行脚本

### source和.执行方式
是在当前的shell执行脚本

## if语句
- if语句中的if之后需要接中括号，并且括号里面的判断语句与括号之间需要有空格
- if语句结束的时候需要加上fi以确保if语句的结束

### 基本语法
```bash
if [ $x != 0 ]
then
    command
else
    command
fi
```

### 复杂条件判断
```bash
# -a为and   -o为or
if [ !-z"$name" -a !-z"$num" -o !-z"$pass" ]

# 多重条件判断
if [ ]
elif [ ]
elif [ ]
fi

# 使用双括号
if (())
elif  (())
elif   (())
fi
```

### 常见判断逻辑运算符
#### 数值测试（仅用于整型比较）
- `-gt`：大于
- `-ge`：大于等于
- `-ne`：不等于
- `-lt`：小于
- `-le`：小于等于
- `-eq`：等于

#### 文件测试
- `-e FILE`：测试文件是否存在
  - 示例：`if [ ! -e /etc/inittab ]`
- `-f FILE`：测试文件是否为普通文件
- `-d FILE`：测试指定路径是否为目录
- `-r FILE`：测试当前用户对指定文件是否有读权限
- `-w FILE`：测试当前用户对指定文件是否有写权限